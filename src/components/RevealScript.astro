---
---
<script is:inline>
  (function(){
    try{
      if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;

      var nodes = Array.prototype.slice.call(document.querySelectorAll('[data-reveal]'));
      if (!nodes.length) return;

      nodes.forEach(function(el){ el.classList.add('reveal-init'); });

      if ('IntersectionObserver' in window){
        var io = new IntersectionObserver(function(entries, observer){
          for (var i = 0; i < entries.length; i++){
            var entry = entries[i];
            var el = entry.target;
            var once = el.hasAttribute('data-reveal-once');
            if (entry.isIntersecting){
              el.classList.add('reveal-in');
              if (once) observer.unobserve(el);
            } else {
              if (!once) el.classList.remove('reveal-in');
            }
          }
        }, { root: null, rootMargin: '0px 0px -10% 0px', threshold: 0.15 });

        nodes.forEach(function(el){ io.observe(el); });
      } else {
        nodes.forEach(function(el){ el.classList.add('reveal-in'); });
      }
    } catch(e) {}
  })();
</script>
